package com.iteason.controller;

import java.util.Map;

import org.springframework.stereotype.Controller;
import org.springframework.web.bind.annotation.RequestMapping;
import org.springframework.web.bind.annotation.ResponseBody;
import org.springframework.web.multipart.MultipartFile;

import com.iteason.utils.FastDFSClient;

@Controller
public class PictureController {

	/**
	 * 
	 * @author 阿荣
	 * @Description:图片上传
	 * @date: 2018年8月14日 下午1:17:57
	 * @param image
	 * @return
	 * @throws Exception 
	 */
	@RequestMapping(value="/pic/upload")
	@ResponseBody
	public Map uploadPicture(MultipartFile image) throws Exception{
		//调用图片服务器fastDfs的客户端
		FastDFSClient client = new FastDFSClient("classpath:conf/client.conf");//加载配置文件
		byte[] fileContent = image.getBytes();//文件内容
		String extName;
		//解析接收到的图片image文件
		client.uploadFile(fileContent, extName);
		
		
		
		return null;
		
		
		
	}
}
